!function(r,e){function t(){}function i(t){e.BaseGateway.call(this,t),e.ProductGateway.call(this),r(document.body).on("change",'[name="quantity"]',this.mount_message.bind(this,!0))}function a(t){e.BaseGateway.call(this,t),e.CartGateway.call(this)}t.prototype.is_currency_supported=function(){return-1<this.params.currencies.indexOf(this.get_currency())},(i.prototype=r.extend({},e.BaseGateway.prototype,e.ProductGateway.prototype,t.prototype,e.Afterpay.prototype)).initialize=function(){!this.msgElement&&this.is_currency_supported()&&(this.create_element(),this.mount_message(),this.add_eligibility("#wc-stripe-afterpay-product-msg",this.get_product_price()))},i.prototype.get_product_price=function(t){var e=(e=r('[name="quantity"]').val())||0;return t?this.get_product_data().price*Math.pow(10,2)*parseInt(e):this.get_product_data().price*parseInt(e)},i.prototype.create_element=function(){this.msgElement=this.elements.create("afterpayClearpayMessage",r.extend({},this.params.msg_options,{amount:this.get_product_price(!0),currency:this.get_currency()}))},i.prototype.mount_message=function(t){this.msgElement&&(t&&this.msgElement.update({amount:this.get_product_price(!0),currency:this.get_currency(),isEligible:this.is_eligible(this.get_product_price())}),r("#wc-stripe-afterpay-product-msg").length||(r(".summary .price").length?r(".summary .price").append('<div id="wc-stripe-afterpay-product-msg"></div>'):r(".price").length&&r(r(".price")[0]).append('<div id="wc-stripe-afterpay-product-msg"></div>')),this.msgElement.mount("#wc-stripe-afterpay-product-msg"))},(a.prototype=r.extend({},e.BaseGateway.prototype,e.CartGateway.prototype,t.prototype,e.Afterpay.prototype)).initialize=function(){!this.msgElement&&r(this.container).length&&this.is_currency_supported()&&(this.create_element(),this.mount_message(),this.add_eligibility("#wc-stripe-afterpay-cart-container",this.get_total_price()))},a.prototype.create_element=function(){this.msgElement=this.elements.create("afterpayClearpayMessage",r.extend({},this.params.msg_options,{amount:this.get_total_price_cents(),currency:this.get_currency()}))},a.prototype.mount_message=function(t){t&&this.msgElement&&this.msgElement.update({amount:this.get_total_price_cents(),currency:this.get_currency(),isEligible:this.is_eligible(parseFloat(this.get_total_price()))}),r("#wc-stripe-afterpay-cart-container").length||r(".cart_totals table.shop_table > tbody").append('<tr id="wc-stripe-afterpay-cart-container"><td colspan="2"><div id="wc-stripe-afterpay-cart-msg"></div></td></tr>'),this.msgElement.mount("#wc-stripe-afterpay-cart-msg")},a.prototype.updated_html=function(){r(this.container).length&&this.is_currency_supported()&&(this.mount_message(!0),this.add_eligibility("#wc-stripe-afterpay-cart-container",this.get_total_price()))},"undefined"!=typeof wc_stripe_afterpay_product_params?new i(wc_stripe_afterpay_product_params):"undefined"!=typeof wc_stripe_afterpay_cart_params&&new a(wc_stripe_afterpay_cart_params)}(jQuery,window.wc_stripe);