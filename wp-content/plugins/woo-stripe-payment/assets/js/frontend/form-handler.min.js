jQuery(function(a){function e(){this.init()}e.prototype.init=function(){a(document.body).on("payment_method_selected",this.payment_method_selected.bind(this)),a(document.body).on("change",'[name="payment_method"]',this.payment_method_selected.bind(this)),a(document.body).on("updated_checkout",this.updated_checkout.bind(this)),a(document.body).on("change",".wc-stripe-payment-type",this.payment_type_change.bind(this)),a(document.body).on("updated_wc_div, updated_cart_totals",this.cart_html.bind(this)),this.saved_payment_methods(),"MutationObserver"in window&&null!==document.querySelector("form.checkout")&&new MutationObserver(this.observer_callback.bind(this)).observe(document.querySelector("form.checkout"),{attributes:!1,childList:!0,subtree:!0}),a(document.body).is(".woocommerce-cart")&&(a(window).on("resize",this.cart_html),this.cart_html())},e.prototype.observer_callback=function(e,t){try{if(0<e.length)for(var o=0;o<e.length;o++)if(e[o].addedNodes&&0<e[o].addedNodes.length)for(var n=e[o].addedNodes,s=0;s<n.length;s++)"UL"===n[s].nodeName&&n[s].classList&&n[s].classList.value.indexOf("payment_methods")&&(a("select.wc-stripe-saved-methods").removeClass("enhanced"),a("select.wc-stripe-saved-methods + .select2").remove(),this.saved_payment_methods())}catch(d){}},e.prototype.payment_method_selected=function(){var e=this.get_payment_method();a(document.body).triggerHandler("wc_stripe_payment_method_selected",e)},e.prototype.updated_checkout=function(){this.saved_payment_methods(),a(document.body).hasClass("woocommerce-checkout")&&a(".payment_methods").width()<475&&a(".payment_methods").addClass("stripe-small")},e.prototype.payment_type_change=function(){var e=this.get_payment_method(),t=a('[name="'+e+'_payment_type_key"]:checked');0===t.length||"new"===t.val()?(a(".wc-"+e+"-saved-methods-container").slideUp(400,function(){a(".wc-"+e+"-new-method-container").slideDown(400)}),a(document.body).triggerHandler("wc_stripe_new_method_"+e)):(a(".wc-"+e+"-new-method-container").slideUp(400,function(){a(".wc-"+e+"-saved-methods-container").slideDown(400)}),a(document.body).triggerHandler("wc_stripe_saved_method_"+e))},e.prototype.saved_payment_methods=function(){a().selectWoo&&a("select.wc-stripe-saved-methods").length&&!a("select.wc-stripe-saved-methods").hasClass("enhanced")&&a("select.wc-stripe-saved-methods").selectWoo({width:"100%",templateResult:this.output_template,templateSelection:this.output_template,language:{noResults:function(){return wc_stripe_form_handler_params.no_results}.bind(this)}}).addClass("enhanced").trigger("change")},e.prototype.get_payment_method=function(){return a('[name="payment_method"]:checked').val()},e.prototype.get_payment_type=function(e){return a('[name="'+e+'"]:checked').val()},e.prototype.output_template=function(e,t){var o=a(e.element).attr("class");return a.each(a(e.element).parent().find("option"),function(){a(t).removeClass(a(this).attr("class"))}),a(t).addClass("wc-stripe-select2-container "+o),a(document.body).triggerHandler("wc_stripe_payment_method_template",[e,t]),e.text},e.prototype.cart_html=function(){var e=a(".checkout-button"),t=e.outerWidth();t&&a(".wc_stripe_cart_payment_methods").length&&a(".wc_stripe_cart_payment_methods ").width(t),"none"!==e.css("float")&&a(".wc_stripe_cart_payment_methods ").css("float",e.css("float"))},new e});