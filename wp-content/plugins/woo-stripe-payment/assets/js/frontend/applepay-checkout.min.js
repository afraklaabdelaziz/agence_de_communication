!function(e,i){function t(){i.BaseGateway.call(this,wc_stripe_applepay_checkout_params)}(t.prototype=e.extend({},i.BaseGateway.prototype,i.CheckoutGateway.prototype,i.ApplePay.prototype)).initialize=function(){i.CheckoutGateway.call(this),e("form.checkout").on("change",".form-row:not(.address-field) .input-text",this.update_payment_request.bind(this)),e(this.container).length&&i.ApplePay.prototype.initialize.call(this)},t.prototype.canMakePayment=function(){i.ApplePay.prototype.canMakePayment.apply(this,arguments).then(function(){var t;this.banner_enabled()&&((t=e(this.params.button)).addClass("banner-checkout"),t.on("click",this.start.bind(this)),e(this.banner_container).empty().append(t),e(this.banner_container).show().addClass("active").closest(".wc-stripe-banner-checkout").addClass("active"))}.bind(this))},t.prototype.append_button=function(){e("#place_order").after(this.$button),this.trigger_payment_method_selected()},t.prototype.updated_checkout=function(){e(this.container).length&&i.ApplePay.prototype.initialize.call(this)},t.prototype.start=function(t){e(t.target).is(".banner-checkout")&&(this.set_payment_method(this.gateway_id),this.set_use_new_option(!0),e('[name="terms"]').prop("checked",!0)),i.ApplePay.prototype.start.apply(this,arguments)},t.prototype.on_token_received=function(){i.CheckoutGateway.prototype.on_token_received.apply(this,arguments),this.payment_request_options.requestShipping&&this.maybe_set_ship_to_different(),this.fields.toFormFields({update_shipping_method:!1}),this.checkout_fields_valid()&&this.get_form().trigger("submit")},t.prototype.update_payment_request=function(){e(this.container).length&&i.ApplePay.prototype.initialize.call(this)},new t}(jQuery,window.wc_stripe);